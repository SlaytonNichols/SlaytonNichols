import{_ as x}from"./AppBreadcrumb.vue_vue_type_script_setup_true_lang.f813e9c5.js";import{d as v,e as g,q as k,H as w,o,c as n,b as i,a as m,F as C,h as A,u as B,g as _,l as I,I as b,Q as N,w as V,i as j,t as u,r as P,_ as R}from"./app.744d5248.js";import{A as E}from"./add-to-queue.e7568f83.js";import"./home.3f13f56e.js";const F={class:"min-h-screen"},Q={class:"flex"},q={class:"px-5 flex-grow mt-10"},D={class:"flex mb-8 justify-center flex-col align-center"},H={key:0,class:"text-gray-500"},L={key:0,class:"m-4 justify-end"},M=v({__name:"Index",setup(O){var d,p;const f=((p=(d=g)==null?void 0:d.value)==null?void 0:p.roles.indexOf("Admin"))>=0,c=k([]),l=I();c.value=l.getRoutes().filter(t=>{var e;return t.path.startsWith("/posts/")&&((e=t.meta)==null?void 0:e.frontmatter)}).map(t=>{var e;return{path:t.path,name:t.name,frontmatter:(e=t.meta)==null?void 0:e.frontmatter}}).filter(t=>!t.path.includes("employment-history")).sort((t,e)=>{var s,r,a;return(a=(s=e.frontmatter.date)!=null?s:"")==null?void 0:a.localeCompare((r=t.frontmatter.date)!=null?r:"")});const h=async()=>{l.push({path:"/posts/create"})},y=async()=>{let t=[];const e=await b.api(new N);return e.succeeded&&e.response.results&&(t=e.response.results.forEach(s=>{c.value.push({id:s.id,path:"/posts/"+s.path,title:s.title,frontmatter:{title:s.title,summary:s.summary}})})),t};return w(async()=>{await y()}),(t,e)=>{const s=x,r=P("router-link");return o(),n("div",F,[i("main",Q,[i("div",q,[m(s,{class:"my-4 justify-center",name:"Blog"}),(o(!0),n(C,null,A(c.value,a=>(o(),n("div",D,[m(r,{class:"text-2xl hover:text-green-600",to:a.path},{default:V(()=>[j(u(a.frontmatter.title),1)]),_:2},1032,["to"]),a.frontmatter.summary?(o(),n("p",H,u(a.frontmatter.summary),1)):_("",!0)]))),256))]),f?(o(),n("div",L,[i("button",{onClick:h},[m(B(E))])])):_("",!0)])])}}});const z=R(M,[["__scopeId","data-v-a1d287d0"]]);export{z as default};
