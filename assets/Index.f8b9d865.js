import{_ as y}from"./AppBreadcrumb.vue_vue_type_script_setup_true_lang.0acf1a0c.js";import{d as v,e as g,q as k,H as C,o,c as n,b as m,a as i,F as w,h as A,u as B,g as u,l as b,w as I,i as N,t as h,r as P,_ as V}from"./app.86afe4dc.js";import{u as j,A as E}from"./posts.c562d646.js";import"./home.5af682d0.js";const F={class:"min-h-screen"},R={class:"flex"},S={class:"px-5 flex-grow mt-10"},q={class:"flex mb-8 justify-center flex-col align-center"},D={key:0,class:"text-gray-500"},H={key:0,class:"m-4 justify-end"},L=v({__name:"Index",setup(M){var p,f;const l=j(),_=((f=(p=g)==null?void 0:p.value)==null?void 0:f.roles.indexOf("Admin"))>=0,a=k([]),d=b();a.value=d.getRoutes().filter(t=>{var e;return t.path.startsWith("/posts/")&&((e=t.meta)==null?void 0:e.frontmatter)}).map(t=>{var e;return{path:t.path,name:t.name,frontmatter:(e=t.meta)==null?void 0:e.frontmatter}}).filter(t=>!t.path.includes("employment-history")).sort((t,e)=>{var r,c,s;return(s=(r=e.frontmatter.date)!=null?r:"")==null?void 0:s.localeCompare((c=t.frontmatter.date)!=null?c:"")});const x=async()=>{d.push({path:"/posts/create"})};return C(async()=>{await l.refreshPosts(),l.allPosts.forEach(t=>{a.value.push({id:t.id,path:"/posts/"+t.path,title:t.title,draft:t.draft,frontmatter:{title:t.title,summary:t.summary}})}),_||(a.value=a.value.filter(t=>!t.draft))}),(t,e)=>{const r=y,c=P("router-link");return o(),n("div",F,[m("main",R,[m("div",S,[i(r,{class:"my-4 justify-center",name:"Blog"}),(o(!0),n(w,null,A(a.value,s=>(o(),n("div",q,[i(c,{class:"text-2xl hover:text-green-600",to:s.path},{default:I(()=>[N(h(s.frontmatter.title),1)]),_:2},1032,["to"]),s.frontmatter.summary?(o(),n("p",D,h(s.frontmatter.summary),1)):u("",!0)]))),256))]),_?(o(),n("div",H,[m("button",{onClick:x},[i(B(E),{class:"w-8 h-8"})])])):u("",!0)])])}}});const z=V(L,[["__scopeId","data-v-3a2e3387"]]);export{z as default};
